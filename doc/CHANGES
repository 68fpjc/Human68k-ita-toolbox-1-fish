※敬称は省略しています

----------------------------------------------------------------------------
----------------------------------------------------------------------------
* 廃止したfish起動オプション : -C

* 追加した特別なファイル :-
  $SYSROOT/etc/config/refersysroot
  $SYSROOT/etc/fishenv
  $SYSROOT/etc/fprofile
  $SYSROOT/etc/flogin
  $SYSROOT/etc/flogout
  ~/[.%]fishenv
  ~/[.%]fprofile

* 追加した特別な環境変数 : COMFISHOPT

* 廃止した特別な環境変数 : FISHCONFIG

* 追加した特別なシェル変数 :-
  globdotA nosort noundefined options refersysroot

* 廃止した特別なシェル変数 : cdsysroot

* 追加した組み込みコマンド : noabort cmd getopt

* 追加した行編集機能 : eval-command

* 起動した fish のファイル名の先頭 3文字が‘COM’であると特別な動作をする.

* ~/.fishdirs には「直前の作業ディレクトリ」も記録/再生される.

* ログイン・シェルでなくても, 変数 savedirs, savehist が効く.

* 起動時sourceファイルを増やした. また, それらのsource条件を変更した.

* スクリプト・ファイル引数か -cオプションを与えると fish は必ず非インタラク
  ティブ・モードとなる.

* ログイン・シェルとして起動してもホーム・ディレクトリに移動しない.
  login(1) がこれをやる.

* 組み込みコマンドは getopt に準じた方式で引数を解釈する (ただしどれも同じ
  とは限らない). これにともない, echo などでオプション引数を分離する単語は
  - でなく -- になった.

* ハッシュ機構がオフであるときには, シェル変数 path を再設定してもハッシュ
  表を更新せず, また, ハッシュ機構をオンにしないようにした. ハッシュ機構が
  オンであるときには今までどおり.

* =foo は, path検索で見つかる foo の完全パス名に置換される.

* =[補完] では dirs -lv と同じ表示が行われる.
  (実は Version 0.8.0 で実現したのだが書き忘れていた :-p)

* TwentyOne +R を考慮して '/' と '\' の自動変換をやめた. 具体的な対象は
  * path と temp の自動インポート／エクスポート
  * hugearg=indirect 時のインダイレクト・ファイル名
  * $@batshell への引数 (*.BAT)

* 式評価において, ファイル検査演算子と見なすトークンを「‘-’で始まりASCII
  英文字が続く」ものに限定し, 負数を扱う際の不便を解消した.
  (Thanks to Sharl)

* シェル変数 shell の初期値を (fish -f) に, batshell の初期値を COMMAND に
  変更.
  (Thanks to ふぶき)

* 組み込みコマンド alias が余計な ( ) を出力しなくなった.

* 組み込みコマンドの標準出力がファイルやパイプであるときの出力を高速化.

* シェルの入力が標準入力でかつ端末でない場合にも defun や while/foreach が
  使える.

* 制御文 case に複数のパターンを記述できる.

* ディレクトリ置換にもシェル変数 nonomatch の設定が影響する.

* ~ ~user =n の直後の文字が ' か " でクオートされていると置換は行われない.

* ~/foo ~user/foo =n/foo のようなケースで, ~ ~user =n に置き換えられた名前
  が / か \ で終わっている場合には, 続く / や \ は削除される. たとえば
  ~root が / となるとき, ~root/foo は //foo ではなく /foo となる.

* シェル変数 oldcwd と環境変数 OLDPWD にはfishが内部で記憶しているパスがセッ
  トされる. シェル変数 cwd や環境変数 PWD の値は利用されなくなった.

* cd - および pushd - はfishが内部で記憶しているパスを利用する. 変数 oldcwd
  や home の値は参照されなくなった.

* cd - もディレクトリ・スタックの内容を表示する.

* ファイル名補完に対する noglob と symlinks の影響を修正.

* symlinks=expand によるディレクトリ置換（.. の正規化）の動作を修正.

* unset symlinks での動作を修正.

* ファイル名補完で, 候補が 1つだけあり, かつ fignore によって除外された候補
  があった場合に, addsuffix により追加されるサフィックスが正しくないという
  バグを修正.
  (Thanks to Ｅｘｔ)

* 行編集機能 transpose-words を使うと異常動作するバグを修正.
  (Thanks to Sharl)

* EOFを入力したときの動作を少しだけ変更.

* -tオプションの動作を修正, 少しだけ変更.
----------------------------------------------------------------------------
Version 0.8 patchlevel 1
----------------------------------------------------------------------------
* 行編集機能 list を使うとバスエラーが出ることがあるバグを修正。（Thanks to
  みくろ）
----------------------------------------------------------------------------
Version 0.8 patchlevel 0
----------------------------------------------------------------------------
* ドキュメントの加筆修正。

* 全体的に brush up。

* 環境変数 FISHCONFIG の指示に‘k’を追加。

* fish起動オプションの追加:-
    -C
    -k

* 組み込みコマンドの追加:-
    apply
    bind default
    complete
    uncomplete
    xargs

* 特別な環境変数の追加:-
    COLUMNS

* 特別なシェル変数の追加:-
    cdsysroot
    columns
    envcmds
    loginsh

* 式の追加:-
    -X name

* 行編集機能の追加:-
    capitalize-word
    change-case
    complete-raw
    insert-last-word
    keyboard-quit
    list-raw
    next-word
    transpose-gosling

* 廃止した行編集機能:-
    complete-command
    complete-environment-variable
    complete-file
    complete-shell-variable
    complete-variable
    list-command
    list-environment-variable
    list-file
    list-shell-variable
    list-variable

* シェル変数 listexec の設定は set か unset のみ。listexec=quick は廃止。

* シェル変数 execbit は廃止した。拡張子が .X .R .BAT（大文字と小文字は区別
  しない）のいずれでもないファイルは、実行可能属性が ON でなければ実行され
  なくなった。この変更は execd の仕様に合わせたもの。環境変数 FISHCONFIG で
  の指示‘x’は当然廃止された。

* シェル変数 symlink をセットしなくても fish は完全に lndrv に対応するよう
  になった。もはや fish を沖版シンボリック・リンク・ドライバ lndrv に対応さ
  せるためにシェル変数 symlinks をセットする必要はない。環境変数 FISHCONFIG
  での指示‘l’も廃止された。なお、シェル変数 symlinks は違う意味を持つこと
  になった。symlinks の設定によって、ディレクトリを指すシンボリック・リンク
  に対する処理を選択できる。

* .. を正規化するディレクトリ置換を加えた。set symlinks=expand でこの置換が
  行われるようになる。

* 置換修飾子 :/ の追加。

* $0 は、スクリプトや関数の実行時以外には fish への引数0（名前引数）に置換
  される。

* $# は $#argv、$? は $status として置換される。

* 組み込みコマンド @ のインクリメント演算子 ++ に，perl と同様のマジカル・
　インクリメント機能を加えた。

* 式の演算子 -d は、ディレクトリ属性が ON である現実のディレクトリ・エント
  リはもちろん、D: のようなドライブ名のみの名前や，ルート・ディレクトリ、
  あるいはそれらを指す . や .. およびシンボリック・リンクなども、そこにアク
  セス可能であれば‘1’となる。

* / や \ が余分についたパス名が許されるようになった。

* 組み込みコマンド cdd では現実のディレクトリのみが許され、シンボリック・リ
  ンクを指定することはできなくなった。

* fishがファイルにアクセスする際のドライブ検査が強化された。

* ${name の補完が完成したときには } が追加される。

* set nonullcommandc は、空文字列でのコマンド名補完をエラーとする代わりに通
  常のファイル名補完を行う。

* 入力補完の候補対象が変数名となる条件がより正確になった。

* コマンド名補完やファイル名補完において、補完する文字列を予め一時的に変数
  置換してから検索するようにした。たとえば $lib/[補完] のような操作で、変数
  lib に定義されているディレクトリ下のファイルが候補となる。

* コマンド名補完やファイル名補完において、‘\’もディレクトリの区切りとして
  認識されるようになった。たとえば \\usr\\[補完] あるいは "\usr\[補完] のよ
  うな操作で、/usr 下のファイルが候補となる。

* 入力補完において‘\’‘'’‘"’‘`’の意味が認識されるようになった。

* 入力補完において挿入される文字は必要に応じて自動的にエスケーピングされる。

* コマンド名補完において、制御文キーワード、別名、関数には fignore が効かな
  いようにした。

* ファイル名補完において、cifilec がセットされている場合の入力文字の書き換
  えには最も短い候補を採用するようにした。

* ファイル名補完において . と .. はチェックされなくなった。ルート・ディレク
  トリ上での ./[補完] なども期待どおりに働く。

* 入力補完において何文字かを補えた場合にも autolist が効くようにした。

* ディレクトリ置換の結果がクオートされるようになった。

* 変数置換の結果をクオートするべき場合に '=' もクオートするよう修正した。

* fish にスクリプト・ファイル引数が与えられているか、またはオプション引数
  -c か -t が指定されている場合には、-f や -h が指定されていなくても
  ~/[.%]history を読み込まないようにした。

* /etc/fishrc, ~/[.%]fishrc, ~/[.%]login, ~/[.%]fishdirs のsourceがエラーで
  停止した場合にも ~/[.%]history の読み込みは行われるようにした。

* /etc/fishrc, ~/[.%]fishrc, ~/[.%]login, ~/[.%]fishdirs のsourceがエラーで
  停止した場合にも、オプション引数 -v, -V, -x, -X が機能するようにした。

* ~/[.%]fishdirs の自動source中には履歴置換と別名展開は行わないようにした。

* ~/[.%]fishdirs に記録するディレクトリ名をクオートするようにした。

* クオートを閉じる行が入力される前に EOF に到達した場合にエラー・メッセージ
  を表示するようにした。

* fish起動時にはデフォルトのキーバインドが設定される。

* $< がファイルの EOF を検知しないバグを除去。（Thanks to 色白）

* 組み込みコマンド time や シェル変数 time による出力は、与えられた標準出力
  ではなく常にシェルの標準出力に対して出力するようにし、計測したコマンドの
  出力がパイプやファイルに切り換えられている場合にも計測結果がパイプやファ
  イルに流されないようにした。もし time コマンドの出力を切り換えたければ、
  time コマンドをサブシェルで実行する必要がある。（Thanks to oo）

* ファイル名の大文字と小文字を区別しないシステムで、組み込みコマンド which
  は常にディスク上の実際のファイル名（パス名のディレクトリ部を除く）を報告
  し、特別なシェル変数 cdcmds のパターンも常にディスク上の実際のファイル名
  と照合されるようになった。（Thnaks to ＤＯＮ）

* 非ASCII文字を含む名前のディレクトリが ~/[.%]fishdirs に正しく保存されない
  バグを除去。（Thanks to ぐっど）

* pushd や cd で +<N> が +<N>. と同じ結果となってしまうバグ（v0.7.0 でのエ
  ンバグ）を除去。（Thanks to π:PAI:π）

* case 文が大文字と小文字を区別しないバグを除去。（Thanks to Sharl）

* スクリプト（sourceを含む）や関数内でコマンド置換の最中に ^C を押すと飛ん
  でしまうバグを除去。（Thanks to Sharl）

* ファイル名展開において‘/’‘/.’‘/..’などを参照するシンボリック・
  リンクがディレクトリとして認識されないバグを除去。

* シェル変数 histchars の設定が 2文字未満だと動作がおかしくなるバグを除去。

* 式の16進定数に文字‘9’を使用できないバグを除去。（Thanks to Sharl，
  みくろ）

* 置換修飾子 :r を修正。 /a.b/c に :r を適用すると、結果は /a.b/c となる。
  これまでは /a になってしまっていた。

* set noglob するといろいろ不具合が起こるバグを修正。（Thanks to ざっと）

* ネストした { } が正しく展開されるよう修正。（Thanks to Ｅｘｔ）

* コマンド置換 `` の中で fish が起動されると、状況によって結果がおかしくな
  ることがあるバグの除去。（Thanks to Abechan，Ｅｘｔ）

* 変数置換 $%name および $%{name} において name の綴りに許される文字につい
  て、v0.7.0 での拡張を廃止し、$name, $@name, $@{name} と同じにした。
----------------------------------------------------------------------------
Version 0.7 patchlevel 4
----------------------------------------------------------------------------
* ドキュメントの加筆修正。

* 行編集機能 history-search-backward-circular, history-search-forward-
  circular の追加。（Thanks to ＳＵＮ.，PHANTOM，まめ）

* 履歴置換の &修飾で起こるバグの除去。（Thanks to [/]da）

* エラーメッセージ修正。
----------------------------------------------------------------------------
Version 0.7 patchlevel 3
----------------------------------------------------------------------------
* スクリプトのインタープリタ名がディレクトリ指定なしで記述されており、その
  インタープリタは path に乗っているがそれはカレント・ディレクトリではなく、
  かつ、そのインタープリタが「拡張子が .X でない.X形式実行可能ファイル」で
  ある場合にインタープリタの起動をしくじってしまうバグを修正した。（Thanks
  to ふぶ，にぐる）

* クオートが閉じていない場合に行継続処理のつじつまが合わなくなってしまって
  いたバグを修正した。（Thanks to Sharl，民斗）

* set listexec だと、ディレクトリ指定付きコマンド名補完において、実体の無い
  リンクファイルが候補となってしまうバグを修正した。

* unset listexec だと set addsuffix でディレクトリへのシンボリック・リンク
  にサフィックス / が付加されないバグを修正した。（Thanks to ざっと）

* Extmalloc.a を再構築して無駄なモジュールを外した。
----------------------------------------------------------------------------
Version 0.7 patchlevel 2
----------------------------------------------------------------------------
* 環境変数 FISHCONFIG に設定されていないコンフィギュレーションが行われるこ
  とがあるバグを修正した。
----------------------------------------------------------------------------
Version 0.7 patchlevel 1
----------------------------------------------------------------------------
* ドキュメントを修正した。

* \ による行継続ができなくなっていたバグを修正した。（Thanks to にぐる，
  ざっと）

* path の通ったディレクトリ下にファイル foo.x とディレクトリ foo とがあると
  き foo.x が検索されないというバグを修正した。（Thanks to ややま）

* set cifilec すると入力行の途中で補完すると行の内容がおかしくなるバグを修
  正した。（Thanks to ＴＯＭ，民斗）

* set listlinks すると補完候補の一覧表示においてディレクトリ以外のファイル
  へのシンボリック・リンクが @ 付きで表示されないバグを修正した。（Thanks
  to Abechan）

* 入力補完において、シェル変数 execbit がセットされているときには、ファイル
  の先頭が‘HU’‘#!’‘#$’であるかどうかを調べないよう改めた。（Thanks to
  Sharl）

* v0.7.0 では『ログイン・シェルは引数を無視する』ことにしたが、そうすると
  login.x で fish のスクリプトを起動することができなくなって不便であること
  がわかったので、fish.x への引数0が - で始まっているとき（login.x 等から起
  動されたとき）は引数を無視しないことにした。（Thanks to Abechan）
----------------------------------------------------------------------------
Version 0.7 patchlevel 0
----------------------------------------------------------------------------
* ドキュメントを加筆修正した。

* 全体的に少々高速化した。

* ディレクトリ・スタックの総量制限の撤廃。

* 特別な環境変数 FISHCONFIG を追加し、fish 起動時に常に特定のコンフィグレー
　ションを行うことを可能にした。

* ログイン・シェルとなる条件を変えた。また、ログイン・シェルは引数を無視す
　るようにした。

* ユーザのホーム・ディレクトリ下のファイル %fishrc，%login，%history，
　%logout の代わりとして .fishrc，.login，.history，.logout も認めるように
　した。まず .* へのアクセスを試みてそれが成功すればそれを採用し、失敗した
　場合には従来どおり %* をアクセスする。（Thanks to ＤＩＧ，ＲＡＯ，あるた）

* 特別なシェル変数 savedirs，特別なファイル ~/[.%]fishdirs，起動オプション
　-d を追加し、ログアウト時のディレクトリ・スタックの内容を次回ログイン時に
　再現する機構を加えた。

* ~/[.%]{history,fishdirs} に書き込む際、すでにファイルが存在しているときに
　はその属性を保存するよう改めた（Thanks to storm mark）。また、書き込みが
　禁止されている場合には書き込みを諦めるのみとし、エラーメッセージを表示す
　るのをやめた。

* ~/[.%]history 中の文字 # をコメントと認識しないようにした。

* 起動時の処理を高速化した（fish -f をお試しあれ :-）。具体的な変更点は次の
　とおり。

　(1) シェル変数 uid と gid の初期値をパスワード・ファイルから得るのではな
　　　く環境変数 UID と GID からインポートするようにした。

　(2) ~/[.%]hisoty の読み込みを若干高速化した。

　(3) ~/[.%]fishrc 実行後の自動ハッシュは、ハッシュ機構が OFF になっていて、
　　　-f, -c, -t, -n のいずれも指定されていない場合にのみ行うよう改めた。

　(4) シェル変数 path の初期設定（環境変数からインポート）では自動ハッシュ
　　　は行わないよう改めた。

* ハッシュ関数を簡易にして rehash を高速化した。

* 【注意】シェル変数 path の初期設定と，シェル変数 path から環境変数 path
　への自動エクスポートの仕様を変更した。環境変数 path を再設定すると自動的
　にシェル変数 path にインポートしてハッシュ表を更新する機構は廃止した。特
　別なシェル変数 notexportpath も廃止した。（Thanks to ELLWiSH，ＲＡＯ，
　Seirios）

* 環境変数 HOME とシェル変数 home との間のインポート／エクスポートの際、一
　切の変更を行わずに同じ値をセットするようにした。

* 特別な環境変数 UID と GID を追加。

* 特別なシェル変数 oldcwd と特別な環境変数 OLDPWD の追加。

* 環境変数 PWD を自動セットする際、ディレクトリの区切りには \ ではなく / を
　使うようにした。つまりシェル変数 cwd と同じ値がセットされる。
　（Thanks to Sharl）

* 外部コマンドやサブシェルの終了ステータスは符号付き16ビットとし、32ビット
　に符号拡張するよう改めた。

* fish.x 終了時には起動時の作業ディレクトリに戻ってから終了するようにした。
　（Thanks to ELLWiSH）

* 【注意】垂直タブと改頁は、空白文字としてではなく通常の文字として扱うよう
　改めた。

* 【注意】単語の途中の {} もそのまま保存するようにした。

* ファイル検査演算式 -x name の追加。

* ファイル検査演算子の複合を可能にした。( -f foo && -w foo ) は ( -fw foo )
　と書くことができる。

* 【注意】履歴置換や編集置換の修飾のそれぞれの仕様を若干変更した。また、そ
　れぞれの修飾に aフラグと gフラグを使用できるようにした。

* 置換修飾子 l と u の追加。（Thanks to けんぢ，Sharl）

* 履歴置換と変数置換の s修飾の区切り文字として英字、数字、‘_’も使用できる
　ようにした。（Thanks to Ｅｘｔ）

* 履歴置換の省略形 ^str1^str2^flag^ にもさらに修飾子が使えるよう改めた。
　（Thanks to ＯＧＵ）

* 変数置換 $%name および $%{name} においては、name の綴りには } および : 以
　外の任意の文字を使用できるようにした。これにより、名前が # または ? で始
　まるものと、名前に } または : を含むものとを除いた、ほとんどの環境変数の
　値が変数置換で得られるようになった。

* 変数置換 $i（i は数値）において、i を１桁の数字（1 から 9）に限らず、任意
　の桁数の数値を記述できることにした。今まで $12 は ${argv[1]}2 と解釈され
　ていたが、これからは $argv[12] と解釈される。i の値が 0 である場合（$0，
　$00，$000…）はどれも、これまでの $0 と同じ意味になる。

* 変数置換 $< では、改行されずに EOF に到達した場合にも行として入力するよう
　にした。改行までを入力したのか EOF までを入力したのかを知るために新たな変
　数置換 $?< を追加した。

* ディレクトリ置換 =- に / 以外の文字が続いている単語におかしな置換がされる
　バグの修正。

* 特別なシェル変数 nonomatch を拡張した。set nonomatch=drop で、マッチしな
　かった単語が捨てられる。

* サブシェルでも verbose が効くよう修正した。

* 特別な構文（while や if など）が絡み合っているときに構文解析を間違うこと
　があるなど、特別な構文の解析に潜んでいたバグを修正した。（Thanks to
　Ｅｘｔ）

* 入出力を標準ハンドルに切り替える構文を追加。（Thanks to Abechan）

* 関数定義のキーワード sub を加えた。（Thanks to Abechan，Seirios）

* 関数を実行する際、出力が切り替えられているときだけでなく入力が切り替えら
　れているときにもサブシェルで実行するよう改めた。

* 関数実行中においてもサブシェル内で別名が展開されていたバグを修正。

* 特別な関数 cwdcmd の追加。

* 組み込みコマンド source でスクリプトを実行するとき、スクリプトに対して引
　数を与えることができるようにした。

* 【注意】組み込みコマンド set の構文規則を若干変更した。

　(1) set a= はエラーとせず、a に空文字列をセットするよう改めた。したがって
　　　set a= b は、a に b をセットするのではなく、a と b に空文字列をセット
　　　することになる。

　(2) set a =b は、set a ; set =b のように解釈され、=b の処理でエラーとなる。

　(3) set a[N] や set a[N]= はエラーとせず、a[N] に空文字列をセットするよう
　　　改めた。ただしもちろん a[N] は既に存在している必要がある。

* 特別なシェル変数 pushdsilent の追加。

* 組み込みコマンド cd, chdir, pushd に特別な引数 - を追加。

* 組み込みコマンド cd, chdir, pushd, popd にオプション -l, -v, -s を追加。

* 組み込みコマンド cd, chdir で、作業ディレクトリを表示する際にはディレクト
　リ・スタック全体を表示するようにした。

* 組み込みコマンド cd, chdir, pushd への引数が '' であり、シェル変数 home
　が未定義か空である場合に起こるバグの修正。

* シェル変数 home の値がルート・ディレクトリである場合には ~ による省略表示
　を行わないようにした。

* ディレクトリ A:/bar が存在しない場合において set foo=A:/bar ; cd foo を実
　行した場合には『foo: このようなディレクトリはありません』ではなく
　『A:/bar: このようなディレクトリはありません』と表示するようにした。

* 組み込みコマンド cdd の追加。

* 組み込みコマンド history にオプション -t を追加。

* 組み込みコマンド repeat の引数 oo の追加。

* 組み込みコマンド setenv で、文字‘=’を含む名前はエラーとするようにした。

* サブシェルの中での exit はサブシェルを終了するのみとし、現在のシェルは終
　了しないよう改めた。

* 組み込みコマンド exec を追加し、これによってシェル自身の入出力を切り替え
　ることができるようにした。

* 組み込みコマンド nop の追加。

* シェル変数 batshell および shell にインタープリタへの先行引数も設定できる
　よう仕様拡張した。（Thanks to ＲＡＯ）

* スクリプトのインタープリタを通常のコマンドと同じように検索するようにした。
　（Tnanks to Abechan，homy，沖＠沖）

* Human 2.02 の欠陥への対処；Human68k のバージョンが 2.03 未満なら、バイナ
　リのコマンド・ファイル（*.[RXrx]ファイル）をロード中は BREAK=ON であって
　も ^C が効かないようにし、代わりに、BREAK=ON のときにはコマンド・ファイル
　のロード直後に一度だけ ^C が認識されるようにした。

* BREAK=ON のとき、スクリプト・ファイルの読み込みが ^C で中断されるとアドレ
　ス・エラーやバス・エラーが起こるバグを修正した。

* 拡張子が .[Zz] のファイルを特別扱いするのをやめた。

* 拡張子が .[Xx] でなくても、先頭の 2バイトが HU ならば .Xタイプの実行可能
　ファイルと見なすようにした。（Thanks to Abechan, 沖＠沖，Ｅｘｔ）

* 特別なシェル変数 execbit を追加。

* 特別なシェル変数 printexitvalue の追加。

* 特別なシェル変数 cdcmds の追加。

* 沖＠沖版シンボリック・リンク・ドライバ lndrv に対応した；特別なシェル変数
　symlinks と listlinks の追加，一次式 -l name の追加，ファイル名補完の対応
　と拡張，ファイル名展開の対応，コマンド検索部の対応。（Thanks to 沖＠沖，
　ＲＡＯ）

* 標準入力モードであり入力が端末であるときには fgetc(2) の代わりに inkey(2)
　を使うようにしていくつかのトラブルを回避した。（Thanks to ＳＵＮ，Ｓｅｎ，
　ＲＡＯ，Ｅｘｔ，卑弥呼☆，しょーた）

* 【注意】シェル変数 prompt と prompt2 の仕様を少しばかり変更した。

* 【注意】行編集機能 up-history を history-search-backward に、down-history
　を history-search-forward に改名し、その仕様を若干変更した。そして新しい
　機能 up-history，down-history，quit-history  を加えた。（Thanks to
　はりまお，ＲＡＯ，storm mark）

* 行編集機能 no-op を追加。

* 行編集機能での単語認識方法を変えた。シェル変数 wordchars を追加。

* 変数名補完時には、変数名の前の # と ? をスキップするようにした。

* 入力補完の候補の検索中に ^C が効くようにした。（Thanks to ＳＵＮ.）

* 入力補完において単語の先頭以外の‘=’も補完文字列の区切りとするようにした。
　（Thanks to Abechan）

* シェル変数 cifilec がセットされた状態での補完の際には、予め入力した部分も
　適宜修正するようにした。（Thanks to ＴＩＣＭＩＣ，中村ちゃぷに，
　花井　志生，[/]da）　※ただしパス名の途中のディレクトリ名は修正されない。

* 入力補完において、明示的な場合は . と .. も補完候補とするよう改めた。

* ファイル名以外にはシェル変数 fignore は効かないようにした。

* 特別なシェル変数 showdots の追加。

* 特別なシェル変数 listexec を追加。

* 特別なシェル変数 reconlyexec の追加と recunexec の廃止。

* 入力補完候補リスト表示の整列の間違いの修正。
----------------------------------------------------------------------------
Version 0.6 patchlevel 4   08 Mar 1992
----------------------------------------------------------------------------
* patch 3 でのエンバグ（コマンドが見つからなかったときのエラー・メッセージ
　がおかしい）を修正した。（Thanks to ＤＯＮ）
----------------------------------------------------------------------------
Version 0.6 patchlevel 3   08 Mar 1992
----------------------------------------------------------------------------
* HUPAIRの最終fix仕様に対応した。
----------------------------------------------------------------------------
Version 0.6 patchlevel 2   23 Dec 1991
----------------------------------------------------------------------------
* 関数実行時に確保したメモリが解放されないバグを修正した。（Thanks to こら
　息子 and PEKIN members）
----------------------------------------------------------------------------
Version 0.6 patchlevel 1   24 Nov 1991
----------------------------------------------------------------------------
* カレント・ディレクトリを表示する際、ケースによってアドレス・エラーが発生
　するバグを修正した。（Thanks to Ｔｏ．，こら息子）
----------------------------------------------------------------------------
Version 0.6 patchlevel 0   24 Nov 1991   【一般リリース開始】
----------------------------------------------------------------------------
* ドキュメントを加筆修正した。

* 【注意】シェル変数 prompt および prompt2 に関する仕様を大きく変更した。

* fish.x に対するフラグ引数として -h を追加した。

* バグ（FISHにフラグ引数 -c / -t が与えられているときにもシェル変数
    prompt が初期セットされている）を修正した。（Thanks to Abechan）

* 行編集機能 eof の仕様を変更し，新たな行編集機能
	list-or-eof
	delete-forward-char-or-list
	delete-forward-char-or-list-or-eof
　を加えた。これらは美しいものとは言えないが，多くの人は
	bind ^D delete-forward-char-or-list-or-eof
したくなることと思う。

*【注意】行継続に関する仕様を再び整理した。（Thanks to Abechan）

* 行編集機能 complete と list にコマンド名補完機能と変数名補完機能を加え、
　さらに次の行編集機能を追加した。

	complete-command
	complete-file
	complete-variable
	complete-shell-variable
	complete-environment-variable
	list-command
	list-file
	list-variable
	list-shell-variable
	list-environment-variable

　さらに，コマンド名補完を制御する２つのシェル変数

	recunexec
	nonullcommandc

　を追加した。

* ディレクトリ・スタック置換機構に =- を追加した。

*【注意】これまでの組み込みコマンド exit（csh/tcsh の同名コマンドと同じ仕様）
　を return という名前に改め、新たな組み込みコマンド exit を加えた。

* 組み込みコマンド which の仕様を拡張した。

* 仕様を変更した EncodeHUPAIR（クオートする際は最長範囲を囲むようにする。コ
　マンドライン-8からの8バイトに'#HUPAIR',0 をセットする。）を組み込み直した。
　（Thanks to Abechan）

* 0.5 でのエンバグ（シェル変数 path をセットするときシェル変数
　notexportpath がセットされているとこける）を修正した。（Thanks to Ｅｘｔ）
----------------------------------------------------------------------------
Version 0.5 patchlevel 0   29 Oct 1991
----------------------------------------------------------------------------
* ドキュメントを修正した。

* ディレクトリ・スタック置換機構（=n）を追加した。Version 0.2 での機能拡張
　dirs -v は，この布石であった。:-)

* 行継続に関する仕様を整理し，さらに，クオートが閉じていない場合には文字を
　一切追加／削除せずに行継続するようにした。（Thanks to Abechan）

* スクリプトを実行するとき、スクリプトをロードするためのメモリはOSから直接
　確保するように変更した。これによりFISH自身のalloc領域のフラグメンテーショ
　ンが抑えられた。

* シェル変数，別名，および，キー・マクロを，メモリの確保できる限り定義でき
　るようにした。

* サブシェルの起動をさらに高速化した。

* バグ（コマンド置換 `cmd` がメモリを破壊することがまれにある）を修正した。
----------------------------------------------------------------------------
Version 0.4 patchlevel 0   22 Oct 1991
----------------------------------------------------------------------------
* ドキュメントを加筆修正した。

* シェル変数 envmargin を追加した。

* 環境変数をメモリの確保できる限り定義できるようにし、fish.x のオプション引
　数 -E を廃止した。

* シェル変数 notexportpath を追加した。

* バグ（シェル変数から環境変数への export がうまくいかない場合がある）を修
　正した。（Thanks to Ｅｘｔ）

* 組み込みコマンド srand を加えた。

* シェル起動時は乱数の種を 1 とし、子シェルやサブシェルにおいても乱数を初期
　化するようにした。（Thanks to ＤＩＧ）

* 0.3 でのエンバグ（インタラクティブ・モードで while および foeach を実行で
　きないことがある）を修正した。（Thanks to Ｅｘｔ）

* バグ（式 (1 || a =~ *) や (0 && a =~ *) が正常に評価されない）を修正した。

* 0.3 でのエンバグ（「コマンドが見当たりません」などのシェル上でのエラーが
　起こったとき、status に 1 がセットされるべきところが、0 がセットされる）
　を修正した。

* SXWIN.X のために、外部コマンドに与えるコマンドラインの先頭を偶数アドレス
　とした。SXWIN.Xはコマンドラインをワード・アクセスしているため、コマンドラ
　インが奇数アドレスから始まっているとアドレス・エラーを引き起こす。
　（Thanks to 中村ちゃぷに）

* シェル変数 cifilec が効かないという、いつの間にやら生まれたバグを修正した。
　（Thanks to 中村ちゃぷに）

* 組み込みコマンド which のバグ（別名と関数の検索順位が逆になっていた）を修
　正し、さらに、出力仕様を若干変更した。（Thanks to Abechan）

* 行編集機能 copy-prev-word，kill-whole-line を加えた。
----------------------------------------------------------------------------
Version 0.3 patchlevel 0    6 Oct 1991
----------------------------------------------------------------------------
* ドキュメントを修正した。

* 一次式 -i name と -o name を加えた。-i name は name がオープン可能且つ入
　力可能デバイスであるかどうかを、-o name は name がオープン可能且つ出力可
　能デバイスであるかどうかを調べる。

* 0.2 で顕著に出現していたスタック溢れを回避した。

* メモリ確保／解放を洗練した（Thanks to Ｅｘｔ）。これに伴い、組み込みコマ
　ンド alloc の表示内容を変更した。

* 変数置換に $，を加えた。これは 0 から 32767 までの範囲の整数の擬似一様乱
　数に置換される。

* 組み込みコマンド echo の仕様をまた変更した。echo は実に混沌としている。

* 組み込みコマンド printf を加えた。

* cd，chdir，pushd の引数に +<n>. という形式を加えた。既存の形式 +<n> はス
　タックを回転させるが，+<n>. は単に <n>番目のディレクトリを抜き出してスタッ
　クの先頭に積む。UNIX の tcsh で set dextract した場合と同じ。

* シェル変数 noalias を加えた。この変数をセットしておくと、どの場合にも別名
　置換しなくなる。

* 単語‘.’による別名展開回避機構を廃止した。これは美しい仕様ではなかった。
　この機構がなくとも，コマンド名を‘\’でエスケープすれば別名展開を回避する
　ことができる。

* fish.x への引数で -c，-t，-n，-e，-f のどれかが指定されているときやフラグ
　以外の引数がある場合には決してログイン・シェルとならないようにした。
　（Thanks to Abechan）

* シェル変数 autolist をセットしておくことによって不完全補完時に表示される
　候補リストにシェル変数 fignore にマッチするエントリが現われないというバグ
　を修正した。

* 関数定義／呼び出しの構文を搭載し、組み込みコマンド functions，undefun を
　追加した。

* time の出力を簡略化した。

* シェル変数 shlvl，環境変数 SHLVL を加えた。

* シェル変数 gid，uid を加えた。

* シェル変数 autolist をセットしておくことにより自動的に出力される補完候補
　リスト中のディレクトリに‘/’が付かないバグを修正した。

* 0.2 でコマンド・ファイルの拡張子の優先順位を変更したことで生じた、コマン
　ド検索のバグ（たとえば，同ディレクトリ下にディレクトリ emacs とコマンド・
　ファイル emacs.x があるとき，‘emacs’という入力で emacs.x が起動されない）
　を修正した。（Thanks to -<< Serios >>-）
----------------------------------------------------------------------------
Version 0.2 patchlevel 2    1 Sep 1991
----------------------------------------------------------------------------
* ドキュメントを加筆修正した。

* 0.2 で単語の長さの上限を引き上げたためにサブシェルのスタック・ポインタが
　不正となっていたバグを修正した。
----------------------------------------------------------------------------
Version 0.2 patchlevel 1   29 Aug 1991
----------------------------------------------------------------------------
* ドキュメントを加筆修正した。

* 履歴置換の些細なバグを修正した。

* シェル変数 matchbeep=notunique の動作を些細に変更した。

* シェル変数 addsuffix を加えた。
----------------------------------------------------------------------------
Version 0.2 patchlevel 0   28 Aug 1991
----------------------------------------------------------------------------
* ドキュメントを一部修正した。

* 暫定的に、別名エリアとシェル変数エリアの大きさを拡大した。

* 単語の長さの上限を255から1024に引き上げた。

* fish.x に対するオプション引数 -E の意味を変更した。

* シェル変数 autolist，matchbeep，recexact を加えた。

* 環境変数 SYSROOT に対応した。

* コマンド・ファイルの拡張子の優先順位を変更し、(拡張子無し) > .R > .Z > .X
　> .BAT  とした。

* ファイル名補完でのファイル検索と名前比較のアルゴリズムを変更した。

* chdir するとき、移動先がカレント・ドライブならばドライブのチェックと移動
　を省くようにした。

* 履歴リストに登録時刻表示を加えた。

* スクリプト・モードではシェル変数 prompt および prompt2 を自動的にセットし
　ないようにした。

* 組み込みコマンド dirs に オプション -v を加えた。（将来への布石）

* 組み込みコマンド echo の仕様を変更し、UNIX の /bin/echo の仕様を付け加え
　た。また、無効なフラグ引数があった場合には、エラーとするのではなくその引
　数以降を出力すべき単語リストと見なすようにした。

* ファイル名補完では‘.’で始まるエントリは候補としない仕様だったが、‘.’
　と‘..’とを除く全エントリが候補となるように変更した。

* シェル変数 time をセットしていると外部コマンド終了時にバスエラーが発生す
　るバグを修正した。
----------------------------------------------------------------------------
Version 0.1 Patchlevel 0   11 Aug 1991   【内輪評価開始】
----------------------------------------------------------------------------
